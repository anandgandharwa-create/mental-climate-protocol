<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mind OS тАУ Daily Mind Ritual</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',Arial;
  background:linear-gradient(180deg,#050b2e,#020617);
  color:#fff;
}
.page{display:none;padding:22px;}
.active{display:block;}

.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 18px;
}
.brand{font-size:22px;font-weight:600;}
.toggle{
  padding:6px 14px;border-radius:20px;
  background:rgba(255,255,255,0.15);
  font-size:14px;cursor:pointer;
}

header{text-align:center;font-size:26px;font-weight:600;margin-bottom:6px;}
.sub{text-align:center;font-size:17px;opacity:.85;margin-bottom:18px;}

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  border-radius:18px;
  padding:18px;
  margin-bottom:14px;
  box-shadow:0 12px 30px rgba(0,0,0,0.4);
}

button{
  width:100%;padding:16px;font-size:18px;
  border:none;border-radius:30px;
  background:linear-gradient(45deg,#00f2ff,#00ff9c);
  color:#000;margin-top:14px;cursor:pointer;
}

label{display:block;margin:8px 0;font-size:17px;}
strong{font-size:17px;}

.streak-box{
  text-align:center;
  margin-bottom:16px;
}
.streak-count{
  font-size:34px;
  font-weight:700;
}
.streak-label{
  font-size:15px;
  opacity:.8;
}

.meter-bar{height:20px;border-radius:20px;background:#1a1a1a;overflow:hidden;}
.meter-fill{height:100%;width:0%;transition:width 1s;border-radius:20px;}
.meter-text{text-align:center;margin-top:6px;font-size:17px;}

.wheel-box{position:relative;width:250px;height:250px;margin:24px auto;}
.wheel{
  width:100%;height:100%;border-radius:50%;
  background:conic-gradient(#ff0000,#ff7a00,#ffd400,#33ff00,#00ffd5,#0066ff,#8a00ff,#ff0000);
  transition:transform 4s cubic-bezier(.17,.67,.14,.93);
}
.pointer{
  position:absolute;top:-14px;left:50%;transform:translateX(-50%);
  width:0;height:0;border-left:14px solid transparent;
  border-right:14px solid transparent;border-bottom:22px solid #fff;
}

@media(min-width:768px){body{max-width:480px;margin:auto;}}
</style>
</head>

<body>

<div class="topbar">
  <div class="brand">Mind OS</div>
  <div class="toggle" onclick="toggleLang()">ЁЯМН рд╣рд┐рдВрджреА / EN</div>
</div>

<!-- LANDING / DAILY RITUAL -->
<div class="page active" id="landing">
<header class="hi">ЁЯза рдЖрдЬ рдХрд╛ рдорди</header>
<header class="en" hidden>ЁЯза Today's Mind</header>

<div class="streak-box">
  <div class="streak-count" id="streakCount">0</div>
  <div class="streak-label" id="streakLabel">Streak</div>
</div>

<div class="card">
<p class="hi" id="dailyStatus"></p>
<p class="en" hidden id="dailyStatusEn"></p>
</div>

<button id="startBtn" onclick="startTest()">
<span class="hi">рдЖрдЬ рдХрд╛ рдЯреЗрд╕реНрдЯ рдХрд░реЗрдВ</span>
<span class="en" hidden>Check Today</span>
</button>
</div>

<!-- QUESTIONS -->
<div class="page" id="page1">
<header class="hi">ЁЯМк рдорд╛рдирд╕рд┐рдХ рдкреНрд░рджреВрд╖рдг рд╕реВрдЪрдХрд╛рдВрдХ</header>
<header class="en" hidden>ЁЯМк Mental Pollution Index</header>

<div class="card" id="questions"></div>

<button onclick="goMeter()">
<span class="hi">рдореАрдЯрд░ рджреЗрдЦреЗрдВ</span>
<span class="en" hidden>Check Meter</span>
</button>
</div>

<!-- METER -->
<div class="page" id="page2">
<header>ЁЯУК Meter</header>
<div class="meter-bar"><div class="meter-fill" id="meterFill"></div></div>
<div class="meter-text" id="meterText"></div>
<button onclick="goSpin()">Next тЮЬ Spin</button>
</div>

<!-- SPIN -->
<div class="page" id="page3">
<header>ЁЯОп Decision Spin</header>
<div class="wheel-box">
  <div class="pointer"></div>
  <div class="wheel" id="wheel"></div>
</div>
<button onclick="spinNow()">Spin</button>
</div>

<!-- RESULT -->
<div class="page" id="page4">
<header>ЁЯФТ Decision Insight</header>
<div class="card"><p id="resultText"></p></div>
<button onclick="location.reload()">Done for Today</button>
</div>

<script>
let lang="hi",score=0,zone="",spun=false;

const qs=[
"рдХреНрдпрд╛ рдЖрдкрдХрд╛ рдорди рднрд╡рд┐рд╖реНрдп рдХреА рдЪрд┐рдВрддрд╛ рдореЗрдВ рдЙрд▓рдЭрддрд╛ рд╣реИ?",
"рдХреНрдпрд╛ рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╕рдордп рдбрд░ рд░реЛрдХрддрд╛ рд╣реИ?",
"рдХреНрдпрд╛ рдЖрдк рдмрд╛рд░-рдмрд╛рд░ рдПрдХ рд╣реА рдмрд╛рдд рд╕реЛрдЪрддреЗ рд╣реИрдВ?",
"рдХреНрдпрд╛ рднрд╛рд╡рдирд╛рдПрдБ рддрд░реНрдХ рдкрд░ рд╣рд╛рд╡реА рд╣реЛрддреА рд╣реИрдВ?",
"рдХреНрдпрд╛ рдирд┐рд░реНрдгрдп рдХреЗ рдмрд╛рдж рдкрдЫрддрд╛рд╡рд╛ рд╣реЛрддрд╛ рд╣реИ?",
"рдХреНрдпрд╛ рдорди рдЬрд▓реНрджреА рдердХ рдЬрд╛рддрд╛ рд╣реИ?",
"рдЕрднреА рдорди рдХреА рд╕реНрдерд┐рддрд┐ рдХреНрдпрд╛ рд╣реИ?"
];

// ===== DAILY RITUAL + STREAK =====
const today=new Date().toDateString();
let last=localStorage.getItem("lastCheck");
let streak=parseInt(localStorage.getItem("streak")||0);

function updateRitual(){
  if(last===today){
    startBtn.disabled=true;
    dailyStatus.innerText="рдЖрдЬ рдХрд╛ рдорди рдЬрд╛рдБрдЪрд╛ рдЬрд╛ рдЪреБрдХрд╛ рд╣реИред";
    dailyStatusEn.innerText="Today's mind already checked.";
  }else{
    dailyStatus.innerText="рдЖрдЬ рдЕрдкрдиреЗ рдорди рдХреА рд╕реНрдерд┐рддрд┐ рджреЗрдЦреЗрдВред";
    dailyStatusEn.innerText="Check your mental state today.";
  }

  streakCount.innerText=streak;
  streakLabel.innerText =
    streak>=21?"Deep Calm":
    streak>=7?"Clear":
    streak>=3?"Stable":"Started";
}
updateRitual();

function startTest(){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  page1.classList.add("active");
  renderQuestions();
}

function renderQuestions(){
  let h="";
  qs.forEach((q,i)=>{
    h+=`
    <strong>${i+1}. ${q}</strong>
    <label><input type="radio" name="q${i}" value="3"> рдЕрдХреНрд╕рд░</label>
    <label><input type="radio" name="q${i}" value="2"> рдХрднреА-рдХрднреА</label>
    <label><input type="radio" name="q${i}" value="1"> рдирд╣реАрдВ</label>
    <hr style="opacity:.2">`;
  });
  questions.innerHTML=h;
}

function goMeter(){
  score=0;
  for(let i=0;i<7;i++){
    let q=document.querySelector(`input[name="q${i}"]:checked`);
    if(!q){alert("рд╕рднреА рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдЙрддреНрддрд░ рджреЗрдВ");return;}
    score+=parseInt(q.value);
  }
  page1.classList.remove("active");
  page2.classList.add("active");

  let p=Math.round((score/21)*100);
  meterFill.style.width=p+"%";
  if(p>70){zone="red";meterFill.style.background="#ff4d4d";meterText.innerText="High Mental Noise";}
  else if(p>40){zone="yellow";meterFill.style.background="#ffd400";meterText.innerText="Moderate Mental Noise";}
  else{zone="green";meterFill.style.background="#33ff88";meterText.innerText="Low Mental Noise";}
}

function goSpin(){page2.classList.remove("active");page3.classList.add("active");}

function spinNow(){
  wheel.style.transform="rotate("+(zone==="red"?1440+40:zone==="yellow"?1440+140:1440+260)+"deg)";
  setTimeout(showResult,4000);
}

function showResult(){
  page3.classList.remove("active");
  page4.classList.add("active");

  if(zone==="green") resultText.innerText="рдорди рд╢рд╛рдВрдд рд╣реИред рдЖрдЬ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХрд╛ рд╕рдордп рдЕрдиреБрдХреВрд▓ рд╣реИред";
  if(zone==="yellow") resultText.innerText="рд╕реНрдерд┐рддрд┐ рд╕рдВрддреБрд▓рд┐рдд рд╣реИред рдереЛрдбрд╝реА рдкреНрд░рддреАрдХреНрд╖рд╛ рдмреЗрд╣рддрд░ рд╣реЛрдЧреАред";
  if(zone==="red") resultText.innerText="рдорди рдЕрд╢рд╛рдВрдд рд╣реИред рдЖрдЬ рдирд┐рд░реНрдгрдп рдЯрд╛рд▓рдирд╛ рд╣реА рдЙрдЪрд┐рдд рд╣реИред";

  // STREAK UPDATE
  if(last){
    let diff=(new Date(today)-new Date(last))/(1000*60*60*24);
    if(diff===1) streak++;
    else if(diff>1) streak=1;
  }else streak=1;

  localStorage.setItem("streak",streak);
  localStorage.setItem("lastCheck",today);
}

function toggleLang(){
  lang=lang==="hi"?"en":"hi";
  document.querySelectorAll(".hi").forEach(e=>e.hidden=(lang!=="hi"));
  document.querySelectorAll(".en").forEach(e=>e.hidden=(lang!=="en"));
}
</script>

</body>
</html>
