<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mind OS ‚Äì Daily Mind Ritual</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',Arial;
  background:linear-gradient(180deg,#050b2e,#020617);
  color:#fff;
}
.page{display:none;padding:22px;}
.active{display:block;}

.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 18px;
}
.brand{font-size:22px;font-weight:600;}
.toggle{
  padding:6px 14px;border-radius:20px;
  background:rgba(255,255,255,0.15);
  font-size:14px;cursor:pointer;
}

header{text-align:center;font-size:26px;font-weight:600;margin-bottom:6px;}
.sub{text-align:center;font-size:17px;opacity:.85;margin-bottom:18px;}

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  border-radius:18px;
  padding:18px;
  margin-bottom:14px;
}

button{
  width:100%;padding:16px;font-size:18px;
  border:none;border-radius:30px;
  background:linear-gradient(45deg,#00f2ff,#00ff9c);
  color:#000;margin-top:14px;cursor:pointer;
}

label{display:block;margin:6px 0;font-size:17px;}
strong{font-size:17px;}

.streak-box{text-align:center;margin-bottom:16px;}
.streak-count{font-size:34px;font-weight:700;}
.streak-label{font-size:15px;opacity:.8;}

.meter-bar{height:20px;border-radius:20px;background:#1a1a1a;overflow:hidden;}
.meter-fill{height:100%;width:0%;transition:width 1s;border-radius:20px;}
.meter-text{text-align:center;margin-top:6px;font-size:17px;}

.wheel-box{position:relative;width:250px;height:250px;margin:24px auto;}
.wheel{
  width:100%;height:100%;border-radius:50%;
  background:conic-gradient(#ff0000,#ff7a00,#ffd400,#33ff00,#00ffd5,#0066ff,#8a00ff,#ff0000);
  transition:transform 4s cubic-bezier(.17,.67,.14,.93);
}
.pointer{
  position:absolute;top:-14px;left:50%;transform:translateX(-50%);
  width:0;height:0;border-left:14px solid transparent;
  border-right:14px solid transparent;border-bottom:22px solid #fff;
}

@media(min-width:768px){body{max-width:480px;margin:auto;}}
</style>
</head>

<body>

<div class="topbar">
  <div class="brand">Mind OS</div>
  <div class="toggle" onclick="toggleLang()">üåç ‡§π‡§ø‡§Ç‡§¶‡•Ä / EN</div>
</div>

<!-- DAILY RITUAL -->
<div class="page active" id="landing">
<header id="ritualTitle"></header>

<div class="streak-box">
  <div class="streak-count" id="streakCount">0</div>
  <div class="streak-label" id="streakLabel"></div>
</div>

<div class="card">
<p id="dailyStatus"></p>
</div>

<button id="startBtn" onclick="startTest()"></button>
</div>

<!-- QUESTIONS -->
<div class="page" id="page1">
<header id="qTitle"></header>
<div class="card" id="questions"></div>
<button onclick="goMeter()" id="meterBtn"></button>
</div>

<!-- METER -->
<div class="page" id="page2">
<header>üìä Meter</header>
<div class="meter-bar"><div class="meter-fill" id="meterFill"></div></div>
<div class="meter-text" id="meterText"></div>
<button onclick="goSpin()">Next ‚ûú Spin</button>
</div>

<!-- SPIN -->
<div class="page" id="page3">
<header>üéØ Decision Spin</header>
<div class="wheel-box">
  <div class="pointer"></div>
  <div class="wheel" id="wheel"></div>
</div>
<button onclick="spinNow()">Spin</button>
</div>

<!-- RESULT -->
<div class="page" id="page4">
<header>üîí Decision Insight</header>
<div class="card"><p id="resultText"></p></div>
<button onclick="location.reload()">Done</button>
</div>

<script>
let lang="hi",score=0,zone="",spun=false;

/* ===== BILINGUAL QUESTIONS ===== */
const questionsData=[
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§® ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§â‡§≤‡§ù‡§§‡§æ ‡§π‡•à?",en:"Does your mind worry about the future?"},
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§°‡§∞ ‡§∞‡•ã‡§ï‡§§‡§æ ‡§π‡•à?",en:"Does fear stop you from deciding?"},
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ ‡§è‡§ï ‡§π‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡•ã‡§ö‡§§‡•á ‡§π‡•à‡§Ç?",en:"Do you overthink the same thing?"},
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Å ‡§§‡§∞‡•ç‡§ï ‡§™‡§∞ ‡§π‡§æ‡§µ‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç?",en:"Do emotions overpower logic?"},
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§™‡§õ‡§§‡§æ‡§µ‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?",en:"Do you regret decisions later?"},
{hi:"‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§® ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§•‡§ï ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?",en:"Does your mind get tired easily?"},
{hi:"‡§Ö‡§≠‡•Ä ‡§Æ‡§® ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",en:"What is your current mental state?"}
];

/* ===== DAILY RITUAL + STREAK ===== */
const today=new Date().toDateString();
let last=localStorage.getItem("lastCheck");
let streak=parseInt(localStorage.getItem("streak")||0);

function updateRitual(){
  ritualTitle.innerText = lang==="hi"?"üß† ‡§Ü‡§ú ‡§ï‡§æ ‡§Æ‡§®":"üß† Today's Mind";
  startBtn.innerText = lang==="hi"?"‡§Ü‡§ú ‡§ï‡§æ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç":"Check Today";
  qTitle.innerText = lang==="hi"?"üå™ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§™‡•ç‡§∞‡§¶‡•Ç‡§∑‡§£ ‡§∏‡•Ç‡§ö‡§ï‡§æ‡§Ç‡§ï":"üå™ Mental Pollution Index";
  meterBtn.innerText = lang==="hi"?"‡§Æ‡•Ä‡§ü‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç":"Check Meter";

  if(last===today){
    startBtn.disabled=true;
    dailyStatus.innerText = lang==="hi"?"‡§Ü‡§ú ‡§ï‡§æ ‡§Æ‡§® ‡§ú‡§æ‡§Å‡§ö‡§æ ‡§ú‡§æ ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à‡•§":"Today's mind already checked.";
  }else{
    dailyStatus.innerText = lang==="hi"?"‡§Ü‡§ú ‡§Ö‡§™‡§®‡•á ‡§Æ‡§® ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§":"Check your mental state today.";
  }

  streakCount.innerText=streak;
  streakLabel.innerText =
    streak>=21?(lang==="hi"?"Deep Calm":"Deep Calm"):
    streak>=7?(lang==="hi"?"Clear":"Clear"):
    streak>=3?(lang==="hi"?"Stable":"Stable"):
    (lang==="hi"?"Started":"Started");
}
updateRitual();

/* ===== QUESTIONS RENDER ===== */
function startTest(){
  landing.classList.remove("active");
  page1.classList.add("active");
  renderQuestions();
}

function renderQuestions(){
  let html="";
  questionsData.forEach((q,i)=>{
    if(i<6){
      html+=`
      <strong>${i+1}. ${lang==="hi"?q.hi:q.en}</strong>
      <label><input type="radio" name="q${i}" value="3">${lang==="hi"?"‡§Ö‡§ï‡•ç‡§∏‡§∞":"Often"}</label>
      <label><input type="radio" name="q${i}" value="2">${lang==="hi"?"‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä":"Sometimes"}</label>
      <label><input type="radio" name="q${i}" value="1">${lang==="hi"?"‡§®‡§π‡•Ä‡§Ç":"No"}</label>
      <hr style="opacity:.2">`;
    }else{
      html+=`
      <strong>7. ${lang==="hi"?q.hi:q.en}</strong>
      <label><input type="radio" name="q6" value="3">${lang==="hi"?"‡§Ö‡§∂‡§æ‡§Ç‡§§":"Disturbed"}</label>
      <label><input type="radio" name="q6" value="2">${lang==="hi"?"‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø":"Neutral"}</label>
      <label><input type="radio" name="q6" value="1">${lang==="hi"?"‡§∂‡§æ‡§Ç‡§§":"Calm"}</label>`;
    }
  });
  questions.innerHTML=html;
}

function goMeter(){
  score=0;
  for(let i=0;i<7;i++){
    let q=document.querySelector(`input[name="q${i}"]:checked`);
    if(!q){alert(lang==="hi"?"‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§Ç":"Please answer all questions");return;}
    score+=parseInt(q.value);
  }
  page1.classList.remove("active");
  page2.classList.add("active");

  let p=Math.round((score/21)*100);
  meterFill.style.width=p+"%";
  if(p>70){zone="red";meterText.innerText=lang==="hi"?"High ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∂‡•ã‡§∞":"High Mental Noise";}
  else if(p>40){zone="yellow";meterText.innerText=lang==="hi"?"‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∂‡•ã‡§∞":"Moderate Mental Noise";}
  else{zone="green";meterText.innerText=lang==="hi"?"‡§ï‡§Æ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∂‡•ã‡§∞":"Low Mental Noise";}
}

function goSpin(){page2.classList.remove("active");page3.classList.add("active");}

function spinNow(){
  wheel.style.transform="rotate("+(zone==="red"?1440+40:zone==="yellow"?1440+140:1440+260)+"deg)";
  setTimeout(showResult,4000);
}

function showResult(){
  page3.classList.remove("active");
  page4.classList.add("active");

  resultText.innerText =
    zone==="green"?(lang==="hi"?"‡§Æ‡§® ‡§∂‡§æ‡§Ç‡§§ ‡§π‡•à‡•§ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§∏‡§Æ‡§Ø ‡§π‡•à‡•§":"Mind is calm. Good time to decide."):
    zone==="yellow"?(lang==="hi"?"‡§•‡•ã‡§°‡§º‡•Ä ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§ó‡•Ä‡•§":"Waiting may help."):
    (lang==="hi"?"‡§Æ‡§® ‡§Ö‡§∂‡§æ‡§Ç‡§§ ‡§π‡•à‡•§ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ü‡§æ‡§≤‡•á‡§Ç‡•§":"Mind is disturbed. Avoid decision.");

  if(last){
    let diff=(new Date(today)-new Date(last))/(1000*60*60*24);
    if(diff===1) streak++;
    else if(diff>1) streak=1;
  }else streak=1;

  localStorage.setItem("streak",streak);
  localStorage.setItem("lastCheck",today);
}

function toggleLang(){
  lang=lang==="hi"?"en":"hi";
  updateRitual();
  if(page1.classList.contains("active")) renderQuestions();
}
</script>

</body>
</html>
