<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Decision Lock Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:#020617;
  color:#e5e7eb;
}
.container{max-width:460px;margin:auto;padding:20px}
h1{text-align:center}
.hidden{display:none}

.toggle{
  text-align:right;
  margin-bottom:10px;
}
.toggle button{
  padding:6px 12px;
  border:none;
  border-radius:10px;
  background:#334155;
  color:#fff;
  cursor:pointer;
}

.card{
  background:#0f172a;
  border-radius:14px;
  padding:16px;
  margin-bottom:14px;
}
.question{margin-bottom:10px}
.options button{
  width:48%;
  margin:1%;
  padding:10px;
  border:none;
  border-radius:10px;
  background:#334155;
  color:#fff;
  cursor:pointer;
}
.options button.active{background:#22c55e;color:#022c22}

.nav{display:flex;justify-content:space-between;margin-top:20px}
.nav button{
  padding:10px 18px;
  border:none;
  border-radius:12px;
  background:#2563eb;
  color:#fff;
  cursor:pointer;
}

.wheel-box{text-align:center}
#wheel{
  width:260px;height:260px;border-radius:50%;
  margin:20px auto;
  background:conic-gradient(
    #16a34a 0deg 120deg,
    #ca8a04 120deg 240deg,
    #dc2626 240deg 360deg
  );
  transition:transform 4s cubic-bezier(.17,.67,.83,.67);
}
.pointer{
  width:0;height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid #fff;
  margin:0 auto;
}

.spin-btn{
  width:100%;
  padding:15px;
  font-size:18px;
  border:none;
  border-radius:14px;
  background:linear-gradient(90deg,#22c55e,#38bdf8,#a855f7);
  color:#020617;
  font-weight:600;
  cursor:pointer;
}

#result{
  margin-top:20px;
  padding:16px;
  border-radius:14px;
  background:#020617;
  text-align:center;
}

.cause{
  background:#0f172a;
  border-radius:14px;
  padding:16px;
  line-height:1.6;
}
</style>
</head>

<body>
<div class="container">

<div class="toggle">
  <button onclick="toggleLang()">üåê ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä / English</button>
</div>

<!-- PAGE 1 -->
<div id="page1">
<h1 id="title">Decision Lock</h1>
<div id="qbox"></div>
<div class="nav">
<span></span>
<button onclick="next1()" id="nextBtn">Next ‚ñ∂</button>
</div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="hidden">
<h1 id="spinTitle">Decision Spin</h1>
<div class="wheel-box">
<div class="pointer"></div>
<div id="wheel"></div>
<button class="spin-btn" onclick="spin()" id="spinBtn">üîí LOCK DECISION</button>
</div>
<div id="result"></div>
<div class="nav">
<button onclick="back1()">‚óÄ Back</button>
<button onclick="next2()">Next ‚ñ∂</button>
</div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="hidden">
<h1 id="causeTitle">Decision Cause</h1>
<div class="cause" id="causeText"></div>
<div class="nav">
<button onclick="back2()">‚óÄ Back</button>
<span></span>
</div>
</div>

</div>

<script>
let lang="hi";

const data={
hi:{
title:"Decision Lock",
spinTitle:"Decision Spin",
causeTitle:"Decision ‡§ï‡§æ ‡§ï‡§æ‡§∞‡§£",
next:"Next ‚ñ∂",
spin:"üîí LOCK DECISION",
questions:[
"‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§≠‡•Ä ‡§•‡§ï‡•á ‡§π‡•Å‡§è ‡§π‡•à‡§Ç?",
"‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§≠‡§æ‡§µ‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç?",
"‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§¨‡§°‡§º‡§æ ‡§ú‡•Ä‡§µ‡§® ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§π‡•à?",
"‡§ï‡•ç‡§Ø‡§æ ‡§∏‡§Æ‡§Ø ‡§ï‡§æ ‡§¶‡§¨‡§æ‡§µ ‡§π‡•à?",
"‡§ï‡•ç‡§Ø‡§æ ‡§°‡§∞ ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à?",
"‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§î‡§∞ ‡§ï‡•Ä ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶ ‡§ú‡•Å‡§°‡§º‡•Ä ‡§π‡•à?",
"‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§¨‡§¶‡§≤‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ?"
],
yes:"‡§π‡§æ‡§Å",no:"‡§®‡§π‡•Ä‡§Ç",
green:"üü¢ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§®‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à",
yellow:"üü° 24 ‡§ò‡§Ç‡§ü‡•á ‡§∞‡•Å‡§ï‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§ó‡§æ",
red:"üî¥ ‡§Ö‡§≠‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§® ‡§≤‡•á‡§Ç",
why:"‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§Ü‡§Ø‡§æ?"
},
en:{
title:"Decision Lock",
spinTitle:"Decision Spin",
causeTitle:"Decision Cause",
next:"Next ‚ñ∂",
spin:"üîí LOCK DECISION",
questions:[
"Are you feeling tired right now?",
"Are you emotionally disturbed?",
"Is this a major life decision?",
"Is there time pressure?",
"Is fear involved?",
"Are others' expectations involved?",
"Is this decision irreversible?"
],
yes:"Yes",no:"No",
green:"üü¢ Safe to decide now",
yellow:"üü° Better to wait 24 hours",
red:"üî¥ Do not decide now",
why:"Why this decision?"
}
};

let answers=Array(7).fill(null);

function render(){
  document.getElementById("title").innerText=data[lang].title;
  document.getElementById("spinTitle").innerText=data[lang].spinTitle;
  document.getElementById("causeTitle").innerText=data[lang].causeTitle;
  document.getElementById("nextBtn").innerText=data[lang].next;
  document.getElementById("spinBtn").innerText=data[lang].spin;
  const qbox=document.getElementById("qbox");
  qbox.innerHTML="";
  data[lang].questions.forEach((q,i)=>{
    qbox.innerHTML+=`
    <div class="card">
      <div class="question">${i+1}Ô∏è‚É£ ${q}</div>
      <div class="options">
        <button onclick="ans(${i},1,this)">${data[lang].yes}</button>
        <button onclick="ans(${i},0,this)">${data[lang].no}</button>
      </div>
    </div>`;
  });
}
render();

function toggleLang(){
  lang = lang==="hi" ? "en" : "hi";
  render();
}

function ans(i,v,btn){
  answers[i]=v;
  btn.parentElement.querySelectorAll("button")
    .forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function next1(){
  if(answers.includes(null)){alert("Please answer all questions");return;}
  page1.classList.add("hidden");page2.classList.remove("hidden");
}
function back1(){page2.classList.add("hidden");page1.classList.remove("hidden")}
function next2(){page2.classList.add("hidden");page3.classList.remove("hidden")}
function back2(){page3.classList.add("hidden");page2.classList.remove("hidden")}

/* SOUND */
const audioCtx=new (window.AudioContext||window.webkitAudioContext)();
function tone(f,d){
  const o=audioCtx.createOscillator(),g=audioCtx.createGain();
  o.connect(g);g.connect(audioCtx.destination);
  o.frequency.value=f;o.start();
  g.gain.setValueAtTime(0.2,audioCtx.currentTime);
  g.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+d/1000);
  o.stop(audioCtx.currentTime+d/1000);
}

/* SPIN */
let angle=0;
function spin(){
  navigator.vibrate(100);tone(300,200);
  const total=answers.reduce((a,b)=>a+b,0);
  let stop,txt,freq,vib;
  if(total<=2){stop=60;txt=data[lang].green;freq=700;vib=150;}
  else if(total<=4){stop=180;txt=data[lang].yellow;freq=400;vib=300;}
  else{stop=300;txt=data[lang].red;freq=200;vib=600;}

  angle=360*4+stop;
  wheel.style.transform=`rotate(${angle}deg)`;

  setTimeout(()=>{
    navigator.vibrate(vib);tone(freq,400);
    result.innerText=txt;
    let c=`<strong>${data[lang].why}</strong><br><br>`;
    answers.forEach((v,i)=>{if(v===1)c+="‚Ä¢ "+data[lang].questions[i]+"<br>";});
    causeText.innerHTML=c;
  },4000);
}
</script>

</body>
</html>
